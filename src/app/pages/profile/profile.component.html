<div class="container" fxFlex fxLayout="column" fxLayoutGap="10px">
  <div fxLayout="row wrap" style="width: 100%">
    <div fxFlex="0" fxFlex.md="0" fxFlex.sm="0" fxFlex.xs="1"></div>
    <div fxFlex="800px" fxFlex.md="600px" fxFlex.sm="500px" fxFlex.xs="98">
      <div class="image-container">
        <img
          [src]="imagePath"
          alt="Profile Background"
          height="100%"
          width="100%"
          class="mat-elevation-z2"
        />
        <div class="name">{{ user?.firstName }} {{ user?.lastName }}</div>
        <mat-spinner diameter="25" color="accent" *ngIf="isLoading"></mat-spinner>
      </div>
      <mat-tab-group animationDuration="200ms">
        <mat-tab label="Info" [disabled]="isLoading">
          <app-user-info-card
            [user]="user"
            [balance]="balance"
            [txCount]="txCount"
            [catCount]="catCount"
          ></app-user-info-card>
        </mat-tab>
        <mat-tab label="Edit" [disabled]="isLoading">
          <mat-accordion>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title> Change General Info </mat-panel-title>
              </mat-expansion-panel-header>

              <app-user-general-update-card
                [user]="user"
                [action]="onGeneralUpdate.bind(this)"
              ></app-user-general-update-card>
            </mat-expansion-panel>

            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title> Change Password </mat-panel-title>
              </mat-expansion-panel-header>

              <app-user-password-update-card [action]="onPasswordUpdate.bind(this)">
              </app-user-password-update-card>
            </mat-expansion-panel>
          </mat-accordion>
        </mat-tab>
      </mat-tab-group>
    </div>
    <div fxFlex="0" fxFlex.md="0" fxFlex.sm="0" fxFlex.xs="1"></div>
  </div>
</div>
