<app-header-card value="Password Reset"></app-header-card>
<mat-card>
  <mat-card-content>
    <form [formGroup]="passwordResetForm" (submit)="onSubmit()">
      <mat-form-field appearance="outline">
        <mat-label>New Password</mat-label>
        <input type="password" formControlName="newPassword" matInput autocomplete="off" />
        <button type="button" mat-button matPrefix mat-icon-button>
          <mat-icon>lock</mat-icon>
        </button>
        <mat-error *ngIf="passwordResetForm?.get('newPassword')?.hasError('required')"
          ><mat-icon>error</mat-icon> Password is required.</mat-error
        >
        <mat-error
          *ngIf="
            !passwordResetForm?.get('newPassword')?.hasError('required') &&
            passwordResetForm?.get('newPassword')?.hasError('pattern')
          "
          ><mat-icon>error</mat-icon> Password should not contain spaces.</mat-error
        >
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Confirm Password</mat-label>
        <input type="password" formControlName="confirmPassword" matInput autocomplete="off" />
        <button type="button" mat-button matPrefix mat-icon-button>
          <mat-icon>lock</mat-icon>
        </button>
        <mat-error *ngIf="passwordResetForm?.get('confirmPassword')?.hasError('required')"
          ><mat-icon>error</mat-icon> Confirmation is required.</mat-error
        >
        <mat-error
          *ngIf="
            !passwordResetForm?.get('confirmPassword')?.hasError('required') &&
            passwordResetForm?.get('confirmPassword')?.hasError('unmatch')
          "
          ><mat-icon>error</mat-icon> Passwords don't match.</mat-error
        >
      </mat-form-field>

      <mat-card-actions>
        <app-loading-button
          [isLoading]="isLoading"
          value="OK"
          (click)="onSubmit()"
        ></app-loading-button>
      </mat-card-actions>
    </form>
  </mat-card-content>
</mat-card>
